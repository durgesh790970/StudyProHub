<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ test_name }} Results - StudyPro</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 20px; }
        .container { max-width: 650px; margin: 30px auto; }
        .email-wrapper { background: #fff; border-radius: 12px; box-shadow: 0 10px 40px rgba(0,0,0,0.1); overflow: hidden; }
        .header { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: #fff; padding: 40px 20px; text-align: center; }
        .header h1 { font-size: 28px; margin-bottom: 8px; font-weight: 700; }
        .header p { font-size: 14px; opacity: 0.95; }
        .content { padding: 40px 30px; }
        .greeting { font-size: 16px; color: #1a202c; margin-bottom: 8px; }
        .greeting strong { color: #667eea; }
        .subtext { font-size: 14px; color: #718096; margin-bottom: 30px; }
        .results-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin: 30px 0; }
        .result-box { background: #f7fafc; border-left: 4px solid #667eea; padding: 20px; border-radius: 8px; }
        .result-label { font-size: 12px; color: #718096; text-transform: uppercase; letter-spacing: 0.5px; margin-bottom: 8px; }
        .result-value { font-size: 24px; font-weight: 700; color: #2d3748; }
        .result-value.high { color: #48bb78; }
        .result-value.medium { color: #ed8936; }
        .result-value.low { color: #f56565; }
        .status-badge { display: inline-block; margin-top: 20px; padding: 12px 24px; border-radius: 50px; font-weight: 700; font-size: 16px; text-align: center; }
        .status-badge.pass { background: #c6f6d5; color: #22543d; }
        .status-badge.fail { background: #fed7d7; color: #742a2a; }
        .feedback-section { background: #edf2f7; padding: 20px; border-radius: 8px; margin: 25px 0; }
        .feedback-label { font-size: 12px; color: #4a5568; text-transform: uppercase; letter-spacing: 0.5px; margin-bottom: 10px; }
        .feedback-text { font-size: 14px; color: #2d3748; line-height: 1.6; }
        .cta-button { display: block; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: #fff; text-decoration: none; padding: 14px 30px; border-radius: 8px; text-align: center; font-weight: 700; margin-top: 25px; transition: transform 0.2s; }
        .cta-button:hover { transform: translateY(-2px); }
        .divider { border-top: 1px solid #e2e8f0; margin: 25px 0; }
        .footer { background: #f7fafc; padding: 20px 30px; text-align: center; font-size: 12px; color: #718096; }
        .footer-text { margin: 5px 0; }
        .footer-brand { font-weight: 700; color: #667eea; }
        @media (max-width: 600px) {
            .results-grid { grid-template-columns: 1fr; }
            .header h1 { font-size: 24px; }
            .content { padding: 25px 20px; }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="email-wrapper">
            <div class="header">
                <h1>üéØ Test Results</h1>
                <p>{{ test_name }}</p>
            </div>
            
            <div class="content">
                <div class="greeting">Hi <strong>{{ name }}</strong>,</div>
                <p class="subtext">Your test has been evaluated. Here's your detailed performance report:</p>
                
                <div class="results-grid">
                    <div class="result-box">
                        <div class="result-label">üìä Score</div>
                        <div class="result-value">{{ score }}/{{ total }}</div>
                    </div>
                    <div class="result-box">
                        <div class="result-label">‚úÖ Accuracy</div>
                        <div class="result-value {% if accuracy >= 80 %}high{% elif accuracy >= 60 %}medium{% else %}low{% endif %}">{{ accuracy }}%</div>
                    </div>
                    <div class="result-box">
                        <div class="result-label">‚è±Ô∏è Time Taken</div>
                        <div class="result-value">{{ time_taken }}</div>
                    </div>
                    <div class="result-box">
                        <div class="result-label">üèÜ Rank</div>
                        <div class="result-value">{{ rank }}</div>
                    </div>
                </div>

                <div style="text-align: center;">
                    {% if accuracy >= 70 %}
                        <div class="status-badge pass">‚úÖ PASSED</div>
                    {% else %}
                        <div class="status-badge fail">‚ùå NEEDS IMPROVEMENT</div>
                    {% endif %}
                </div>

                <div class="divider"></div>

                <div class="feedback-section">
                    <div class="feedback-label">üí° Feedback</div>
                    <div class="feedback-text">{{ feedback }}</div>
                </div>

                <a class="cta-button" href="{{ brand_url }}">View Detailed Analysis</a>
            </div>

            <div class="footer">
                <div class="footer-text">Thank you for using <span class="footer-brand">{{ brand_name }}</span></div>
                <div class="footer-text" style="margin-top: 10px; opacity: 0.8;">¬© 2025 StudyPro. All rights reserved.</div>
            </div>
        </div>
    </div>
</body>
</html>
